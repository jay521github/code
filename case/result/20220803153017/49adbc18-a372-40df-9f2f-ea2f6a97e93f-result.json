{"name": "量表管理", "status": "broken", "statusDetails": {"message": "KeyError: 'button'", "trace": "Login = (<KeyWords.keyword_web.WebKeys object at 0x00000197A106D4C0>, <Logger logger (DEBUG)>)\nscale = {'check_box': 'td[class=\"ant-table-cell ant-table-selection-column\"]', 'expected_result': '/html/body/div[1]/div/secti...9999)}', 'new_scale': '//*[@id=\"root\"]/div/section/section/main/div/section/main/div[2]/div[1]/div[2]/div/button', ...}\n\n    @pytest.mark.flaky(reruns=1, reruns_delay=3)\n    @pytest.mark.parametrize('scale',load_yaml('../data/scale_management.yaml'))\n    @allure.epic('测评管理')\n    @allure.severity('normal')\n    @allure.story('量表管理')\n    def test_07(Login,scale):\n        wk, log = Login\n        allure.dynamic.title(scale['title'])\n        with allure.step('点击进入测评管理'):\n            wk.click('xpath','//span[text()=\"测评管理\"]')\n        with allure.step('点击进入量表管理'):\n            wk.click('xpath','//a[text()=\"量表管理\"]')\n        with allure.step('点击进入新增量表'):\n            wk.click('xpath',scale['new_scale'])\n        with allure.step('选择量表分类'):\n            wk.click('id','advanced_search_typeId')\n            wk.click('xpath','//span[text()=\"教育行业-中学-1\"]')\n        with allure.step('填写量表名称'):\n            scale_name = '测试量表No.' + str(get_random(1, 999))\n            wk.input('id', 'advanced_search_name', scale_name)\n        with allure.step('选择量表类型'):\n            wk.click('id', 'advanced_search_type')\n            wk.click('xpath', '//div[text()=\"专业性量表\"]')\n        with allure.step('上传主题配图'):\n            png1 = os.path.abspath('微信截图_20220622155317.png')\n            png2 = os.path.abspath('微信截图_20220622155606.png')\n            wk.click('xpath',scale['upload1'])\n            wk.wait(2)\n            UpLoad(png1)\n            wk.wait(1)\n            wk.click('xpath', scale['upload2'])\n            wk.wait(2)\n            UpLoad(png2)\n        with allure.step('填写市场价'):\n            wk.input('id','advanced_search_marketPrice',randint(1,999))\n        with allure.step('选择量表状态'):\n            wk.click('xpath','//span[text()=\"开启\"]')\n        with allure.step('保存量表基本信息'):\n            wk.click('xpath', '//span[text()=\"保存并下一步\"]')\n        with allure.step('添加维度'):\n            wk.click('xpath','//span[text()=\"添加维度\"]')\n            wk.wait(2)\n            #选择所有的checkbox并全部勾上\n            checkboxes = wk.locators('css selector',scale['check_box'])\n            for checkbox in checkboxes:\n                    wk.wait(0.5)\n                    checkbox.click()\n            # # 把页面上最后1个checkbox的勾给去掉\n            # checkboxes.pop().click()\n            #提交选择的题目\n            wk.click('xpath','//p[text()=\"确定\"]')\n            wk.wait(2)\n            # 等待页面加载完成，点击保存并下一步\n>           wk.click('xpath',scale['button'])\nE           KeyError: 'button'\n\noms.py:356: KeyError"}, "steps": [{"name": "点击进入测评管理", "status": "passed", "start": 1659511822597, "stop": 1659511822699}, {"name": "点击进入量表管理", "status": "passed", "start": 1659511822699, "stop": 1659511822993}, {"name": "点击进入新增量表", "status": "passed", "start": 1659511822993, "stop": 1659511823243}, {"name": "选择量表分类", "status": "passed", "start": 1659511823243, "stop": 1659511823564}, {"name": "填写量表名称", "status": "passed", "start": 1659511823564, "stop": 1659511823708}, {"name": "选择量表类型", "status": "passed", "start": 1659511823708, "stop": 1659511823875}, {"name": "上传主题配图", "status": "passed", "start": 1659511823875, "stop": 1659511829129}, {"name": "填写市场价", "status": "passed", "start": 1659511829129, "stop": 1659511829285}, {"name": "选择量表状态", "status": "passed", "start": 1659511829285, "stop": 1659511829459}, {"name": "保存量表基本信息", "status": "passed", "start": 1659511829459, "stop": 1659511829703}, {"name": "添加维度", "status": "broken", "statusDetails": {"message": "KeyError: 'button'\n", "trace": "  File \"C:\\Users\\jay52\\PycharmProjects\\6noble\\case\\oms.py\", line 356, in test_07\n    wk.click('xpath',scale['button'])\n"}, "start": 1659511829703, "stop": 1659511839897}, {"name": "添加失败截图:", "status": "passed", "attachments": [{"name": "失败截图", "source": "d62d36e6-00b4-4c57-b4ea-6996c46d256b-attachment.png", "type": "image/png"}], "start": 1659511840132, "stop": 1659511840263}], "parameters": [{"name": "scale", "value": "{'new_scale': '//*[@id=\"root\"]/div/section/section/main/div/section/main/div[2]/div[1]/div[2]/div/button', 'factor_name': '因子测试No.${random.int(9999)}', 'check_box': 'td[class=\"ant-table-cell ant-table-selection-column\"]', 'next': '/html/body/div[1]/div/section/section/main/div/div[2]/div[3]/div/form/div[2]/div/div/div/button[2]/span', 'result': '//*[@id=\"root\"]/div/section/section/main/div/div[2]/div[4]/div/form/div[1]/div/div[2]/div/div/div/div/div/div[2]/table/tbody/tr[2]/td[4]/div/div/div/div/div[2]/div/div[2]/div/div', 'txt': '这是结果描述，测试使用', 'expected_result': '/html/body/div[1]/div/section/section/main/div/section/main/div[2]/div[2]/div/div/div/div/div/div[2]/table/tbody/tr[2]/td[3]/span', 'title': '量表管理', 'upload1': '/html/body/div[1]/div/section/section/main/div/div[2]/div[1]/div/div/form/div[1]/div[5]/div/div[2]/div[1]/div/span/div/span/div/div', 'upload2': '/html/body/div[1]/div/section/section/main/div/div[2]/div[1]/div/div/form/div[1]/div[6]/div/div[2]/div[1]/div/span/div/div/span/div/div', 'scale_scoring': '//*[@id=\"advanced_search\"]/div[1]/div/div[1]/div/div[2]/div/div/div/div/span[2]'}"}], "start": 1659511822597, "stop": 1659511839899, "uuid": "a03d2ce1-0fc5-493c-95b6-96e0777a4741", "historyId": "43976a3a472e46d5e4195eaa5510abbc", "testCaseId": "92a2fe5a39aaaf716e97f53d401f2ed8", "fullName": "oms#test_07", "labels": [{"name": "story", "value": "量表管理"}, {"name": "severity", "value": "normal"}, {"name": "epic", "value": "测评管理"}, {"name": "tag", "value": "flaky(reruns=1, reruns_delay=3)"}, {"name": "suite", "value": "oms"}, {"name": "host", "value": "DESKTOP-FA1JTDA"}, {"name": "thread", "value": "59752-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "oms"}]}