{"name": "获取用户基本信息", "status": "broken", "statusDetails": {"message": "TypeError: string indices must be integers", "trace": "self = <case.6noble_ApiTest.Test_ApiCase object at 0x0000014DB4B6DEB0>\nlogin = {'data': {'account': 15130828, 'password': 'e10adc3949ba59abbe56e057f20f883e', 'publicKey': 'pvj9bTwwaY4YdPiwRBH5RE25o9ZM8BHG', 'token': None}, 'path': '/api/6nobleapi/ucenter/login', 'title': '获取用户基本信息', 'url': 'https://hapi.6noblexc.com'}\nApi_Token = (<KeyWords.Api_Keys.api_keys object at 0x0000014DB4B63F40>, '6f398b9a25e64878a9fabc6d07ca8603', <Response [200]>)\n\n    @allure.story(\"01.获取用户基本信息\")\n    @allure.severity('normal')\n    @pytest.mark.parametrize('login', load_yaml('../data/login.yaml'))\n    def test_01(self, login,Api_Token):\n        '''\n        1、用户登录系统\n        2、查询用户基本信息\n        '''\n        # 动态获取参数生成标题\n        allure.dynamic.title(login['title'])\n        ak, token, res = Api_Token\n        with allure.step(\"用户打开链接，登录平台\"):\n            url = login['url'] + login['path']\n            data={\n                'account':login['data']['account'],\n                'password': login['data']['password'],\n                'token':token,\n                'publicKey':login['data']['publicKey']\n            }\n            res = ak.post(url=url, data=data)\n            print(res.json())\n            #获取响应中的结果，用于校验是否成功\n>           assert res.text['code']==0\nE           TypeError: string indices must be integers\n\n6noble_ApiTest.py:42: TypeError"}, "description": "\n        1、用户登录系统\n        2、查询用户基本信息\n        ", "steps": [{"name": "用户打开链接，登录平台", "status": "broken", "statusDetails": {"message": "TypeError: string indices must be integers\n", "trace": "  File \"D:\\work\\pythonProject(1)(1)\\pythonProject\\case\\6noble_ApiTest.py\", line 42, in test_01\n    assert res.text['code']==0\n"}, "steps": [{"name": "发送post请求", "status": "passed", "parameters": [{"name": "url", "value": "'https://hapi.6noblexc.com/api/6nobleapi/ucenter/login'"}, {"name": "data", "value": "{'account': 15130828, 'password': 'e10adc3949ba59abbe56e057f20f883e', 'token': '6f398b9a25e64878a9fabc6d07ca8603', 'publicKey': 'pvj9bTwwaY4YdPiwRBH5RE25o9ZM8BHG'}"}], "start": 1656472697086, "stop": 1656472697265}], "start": 1656472697086, "stop": 1656472697265}], "parameters": [{"name": "login", "value": "{'path': '/api/6nobleapi/ucenter/login', 'url': 'https://hapi.6noblexc.com', 'title': '获取用户基本信息', 'data': {'account': 15130828, 'password': 'e10adc3949ba59abbe56e057f20f883e', 'token': None, 'publicKey': 'pvj9bTwwaY4YdPiwRBH5RE25o9ZM8BHG'}}"}], "start": 1656472697086, "stop": 1656472697267, "uuid": "6d5d47e2-4f27-4300-856b-fb11965c7c16", "historyId": "cd2555ffb243fa81da6f8a66cc35e771", "testCaseId": "691ed0be2e6c6b58bb99015a7eeb6721", "fullName": "6noble_ApiTest.Test_ApiCase#test_01", "labels": [{"name": "story", "value": "01.获取用户基本信息"}, {"name": "severity", "value": "normal"}, {"name": "epic", "value": "智慧云3.0新平台"}, {"name": "suite", "value": "6noble_ApiTest"}, {"name": "subSuite", "value": "Test_ApiCase"}, {"name": "host", "value": "DESKTOP-FA1JTDA"}, {"name": "thread", "value": "13032-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "6noble_ApiTest"}]}