{"name": "角色管理", "status": "failed", "statusDetails": {"message": "AssertionError: None\nassert '后台角色' == '测试角色No645'\n  - 测试角色No645\n  + 后台角色", "trace": "Login = (<KeyWords.keyword_web.WebKeys object at 0x0000020050EF8DF0>, <Logger logger (DEBUG)>)\nrole = {'add_role': '//*[@id=\"root\"]/div/section/section/main/div/section/main/div[2]/div[1]/div[2]/div/button', 'expected_re...an', 'role_status': '//*[@id=\"advanced_search\"]/div[1]/div/div[3]/div/div[2]/div/div/div/div/span[2]', 'title': '角色管理'}\n\n    @pytest.mark.parametrize('role',load_yaml('../data/role_management.yaml'))\n    @allure.epic('权限管理')\n    @allure.severity('normal')\n    @allure.story('角色管理')\n    def test_08(Login,role):\n        wk, log = Login\n        allure.dynamic.title(role['title'])\n        with allure.step('点击进入权限管理'):\n            wk.click('xpath','//span[text()=\"权限管理\"]')\n        with allure.step('点击进入角色管理'):\n            wk.click('xpath','//a[text()=\"角色管理\"]')\n        with allure.step('点击进入新增角色'):\n            wk.click('xpath',role['add_role'])\n        with allure.step('输入角色名称'):\n            role_name='测试角色No'+str(get_random(1,999))\n            wk.input('id','advanced_search_roleName',role_name)\n        with allure.step('输入角色编码'):\n            role_coding=get_random(1,9999)\n            wk.input('id','advanced_search_roleCode',role_coding)\n        with allure.step('选择角色状态'):\n            wk.click('id','advanced_search_status')\n            wk.click('xpath','//div[text()=\"正常\"]')\n        with allure.step('保存角色信息'):\n            wk.click('xpath', '//span[text()=\"保 存\"]')\n            wk.wait(2)\n        with allure.step('查询新增的角色，检验新增是否成功'):\n            wk.input('id', 'advanced_search_roleName', role_name)\n            wk.click('xpath', '//*[text()=\"查询\"]')\n            expected_result = wk.get_text(role['expected_result'])\n            print(expected_result)\n>           assert expected_result == role_name, log.error(f\"添加角色失败，没有找到角色名称为{role_name}的角色信息\")\nE           AssertionError: None\nE           assert '后台角色' == '测试角色No645'\nE             - 测试角色No645\nE             + 后台角色\n\noms.py:425: AssertionError"}, "steps": [{"name": "点击进入权限管理", "status": "passed", "start": 1660563225663, "stop": 1660563225694}, {"name": "点击进入角色管理", "status": "passed", "start": 1660563225694, "stop": 1660563225733}, {"name": "点击进入新增角色", "status": "passed", "start": 1660563225733, "stop": 1660563225799}, {"name": "输入角色名称", "status": "passed", "start": 1660563225799, "stop": 1660563225939}, {"name": "输入角色编码", "status": "passed", "start": 1660563225939, "stop": 1660563226036}, {"name": "选择角色状态", "status": "passed", "start": 1660563226036, "stop": 1660563226187}, {"name": "保存角色信息", "status": "passed", "start": 1660563226187, "stop": 1660563228249}, {"name": "查询新增的角色，检验新增是否成功", "status": "failed", "statusDetails": {"message": "AssertionError: None\nassert '后台角色' == '测试角色No645'\n  - 测试角色No645\n  + 后台角色\n", "trace": "  File \"C:\\Users\\jay52\\PycharmProjects\\6noble\\case\\oms.py\", line 425, in test_08\n    assert expected_result == role_name, log.error(f\"添加角色失败，没有找到角色名称为{role_name}的角色信息\")\n"}, "start": 1660563228249, "stop": 1660563228417}, {"name": "添加失败截图:", "status": "passed", "attachments": [{"name": "失败截图", "source": "ac700eea-7bcc-4843-a33a-8934d4d93b2d-attachment.png", "type": "image/png"}], "start": 1660563228427, "stop": 1660563228562}], "attachments": [{"name": "log", "source": "bb1ad922-567c-472d-8772-7b0a18f7b1cd-attachment.txt", "type": "text/plain"}, {"name": "stdout", "source": "40311812-8bcb-4e8c-bcad-423aebe74682-attachment.txt", "type": "text/plain"}, {"name": "stderr", "source": "9c68c2c1-7e43-45bf-a92f-c2370efb6fc3-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "role", "value": "{'title': '角色管理', 'add_role': '//*[@id=\"root\"]/div/section/section/main/div/section/main/div[2]/div[1]/div[2]/div/button', 'role_status': '//*[@id=\"advanced_search\"]/div[1]/div/div[3]/div/div[2]/div/div/div/div/span[2]', 'expected_result': '//*[@id=\"root\"]/div/section/section/main/div/section/main/div[2]/div[2]/div/div/div/div/div/div[2]/table/tbody/tr[2]/td[2]/span'}"}], "start": 1660563225663, "stop": 1660563228417, "uuid": "1b73d08c-a0d6-4eb1-8f5a-f459aa5eb4e4", "historyId": "a0c83b7aec662fe9016221ec0ca01747", "testCaseId": "be56d1ce0ecd36c8d391218e61b88092", "fullName": "oms#test_08", "labels": [{"name": "story", "value": "角色管理"}, {"name": "severity", "value": "normal"}, {"name": "epic", "value": "权限管理"}, {"name": "suite", "value": "oms"}, {"name": "host", "value": "DESKTOP-FA1JTDA"}, {"name": "thread", "value": "16928-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "oms"}]}